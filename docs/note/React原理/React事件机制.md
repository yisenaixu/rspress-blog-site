# React事件机制

## 浏览器事件机制

### 事件对象

事件发生时，浏览器创建一个event对象，储存事件信息，传递给处理程序，回调函数

- target 引发事件的元素
- currentTarget  = this 执行当前事件回调的对象
- clientX/clientY

### 事件捕获，事件冒泡

事件传播的阶段，从window到目标元素为捕获阶段，从目标元素向上冒泡为冒泡阶段

一般的事件执行都是冒泡顺序执行，onClick，addEventListener第三个参数为false时

捕获阶段执行的事件需要addEventListener第三个参数为true时

### 事件委托

执行事件回调的是目标元素的上层元素，但通过event.target获取目标元素进行操作，也就是引发事件的时目标元素，但是监听事件执行回调的是它的上层元素，通过冒泡传播到

#### 优点

- 节省内存，不需要添加多个事件处理程序
- 减少代码

#### 缺点

- 任意位置都会触发事件，增加负载，但是基本忽略不计

## React事件

react对jsx中绑定的事件进行统一管理，v16挂载document上，v17挂在root元素上，及合成事件

### 为什么要这么做

- 减少内存消耗，减少事件处理函数的注册
- 兼容不同浏览器的事件处理

### 事件池









