# React理念

> 我们认为，React 是用 JavaScript 构建**快速响应**的大型 Web 应用程序的首选方式。它在 Facebook 和 Instagram 上表现优秀。

**快速响应** 

用户更快看到页面显示和操作后变更？

## 制约快速响应的因素

### cpu的瓶颈

同时渲染很多元素，进行大计算量操作等导致性能不足而卡顿

### IO的瓶颈

发送请求等待数据返回来进行下一步操作而不能快速响应

## 解决思路

### cpu瓶颈

##### 如何产生

> JS 可以操作 DOM，`GUI渲染线程`与`JS线程`是互斥的。所以**JS 脚本执行**和**浏览器布局、绘制**不能同时执行。

浏览器刷新频率60帧，一秒刷新60次，每次有16ms事件刷新页面，每次都要执行js脚本，布局，绘制，**js执行过长**导致超时而没有时间布局绘制页面而这一帧没能显示出页面而产生卡顿。

##### 解决

浏览器在每帧预留一些时间给**js线程**，React使用这些时间更新组件，时间不够用则将**线程控制权**还给浏览器布局和绘制页面，React在下一帧继续**中断**的工作，也就是**时间切片**

> 解决`CPU瓶颈`的关键是实现`时间切片`，而`时间切片`的关键是：将**同步的更新**变为**可中断的异步更新**。

React15的负责更新的模块Reconciler(协调器)通过**递归**更新子组件，递归不可中断，所以才进行重构。

### IO瓶颈

主要是网络延迟产生，网络延迟**必然存在**，对于前端来说只能减少这种延迟的感觉,React有独特的研究，采用了新的算法(lane模型)