# 连接管理

## 短连接

每次收到响应报文都会关闭连接，重新建立TCP连接很费时，浪费时间，降低传输效率

TCP协议中建立和关闭连接都很昂贵

## 长连接

针对短连接的解决办法

### 成本分摊

将一次TCP连接的时间成本均摊到多个HTTP请求中

## 相关头字段

### Connection: keep-alive 通用字段 

表示客户端使用长连接机制

表示服务端支持长连接

## 优化相关

### 队头阻塞

**HTTP规定报文必须一发一收**，形成一个先进先出的**串行**队列，队首请求处理太慢，导致其后请求一起等待，产生了

### 并发连接

服务器同时对一个域名发起多个长连接，**数量解决质量**

### 域名分片

多个域名向同一个服务器请求，**数量解决质量**





